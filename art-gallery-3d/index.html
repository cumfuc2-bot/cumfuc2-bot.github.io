<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Art Gallery</title>
    <link rel="stylesheet" href="css/style.css">
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>
    <script src="https://w.soundcloud.com/player/api.js"></script>
    <script src="js/libgif.js"></script>
</head>

<body>
    <div id="ui-layer">
        <div id="crosshair">+</div>
        <div id="instructions">
            <h1>Art Gallery</h1>
            <p>Click to Start</p>
            <p>WASD to Move | Mouse to Look | C to Zoom | ESC to Exit</p>
        </div>
        <div id="interaction-hint">Click to View</div>
        <div id="loading">Loading Gallery...</div>

        <div id="main-menu">
            <button id="btn-open-builder">Create Gallery</button>
            <button id="btn-open-loader">Load Gallery</button>
            <button id="btn-open-settings">Settings</button>
        </div>

        <button id="btn-back-lobby" class="hidden">Back to Lobby</button>
    </div>

    <div id="settings-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Settings</h2>

            <div class="setting-section">
                <h3>Video</h3>
                <div class="setting-group">
                    <label>Quality:</label>
                    <select id="video-quality">
                        <option value="high">High</option>
                        <option value="medium">Medium</option>
                        <option value="low">Low</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label>Fullscreen:</label>
                    <button id="btn-toggle-fullscreen">Toggle Fullscreen</button>
                </div>
            </div>

            <div class="setting-section">
                <h3>Audio</h3>
                <div class="setting-group">
                    <label>Master Volume:</label>
                    <input type="range" id="master-volume" min="0" max="1" step="0.1" value="1.0">
                </div>
                <div class="setting-group">
                    <label>Music Volume:</label>
                    <input type="range" id="music-volume" min="0" max="1" step="0.1" value="0.5">
                </div>
                <div class="setting-group">
                    <label>Video Volume:</label>
                    <input type="range" id="video-volume" min="0" max="1" step="0.1" value="1.0">
                </div>
            </div>

            <hr>
            <button id="btn-edit-current">Edit Current Gallery</button>
            <button id="btn-close-settings" class="close-modal">Close</button>
        </div>
    </div>

    <div id="builder-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Create Custom Gallery</h2>
            <div id="albums-container"></div>
            <button id="btn-add-album">+ Add Album</button>
            <hr>
            <button id="btn-generate-code">Generate & Copy Code</button>
            <textarea id="builder-output" readonly placeholder="Generated code will appear here..."></textarea>
            <button id="btn-close-builder" class="close-modal">Close</button>
        </div>
    </div>

    <div id="load-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Load Gallery</h2>
            <p>Paste your gallery code below:</p>
            <textarea id="load-input"></textarea>
            <button id="btn-load-code">Load</button>
            <button id="btn-close-loader" class="close-modal">Close</button>
        </div>
    </div>

    <div id="fullscreen-viewer" class="hidden">
        <img id="viewer-img" src="" alt="Full View">
        <div id="viewer-controls">
            <button id="prev-btn">&lt;</button>
            <span id="img-info">Image Title</span>
            <button id="next-btn">&gt;</button>
            <button id="close-btn">X</button>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>

</html>